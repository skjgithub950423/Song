<!DOCTYPE html>
<html>
<head>
<style>
	div{
		width: 400px;
		height: 10px;
	}
</style>
	<title></title>
	<script>
	function findInArr (n,arr){
		for (var i = 0; i < arr.length; i++) {
		if (n == arr[i]) {
			return true;
			}
		}
		return false;
	}
	function getByClass(oParent,sClass){
			if (oParent.getElementsByClassName) {
				return oParent.getElementsByClassName(sClass);
			}else{
				var aEle = oParent.getElementsByTagName('*');
				var arr = [];
				for (var i = 0; i < aEle.length; i++) {
					var aTmp = aEle[i].className.split(' ');
					if (findInArr(sClass,aTmp)) {
						arr.push(aEle[i]);
					}
				}
			return arr;
		}
	}
	window.onload = function ()  {
		/*var aEle = document.body.getElementsByTagName('*');
		var arr = [];
		for (var i = 0; i < aEle.length; i++) {
			var aTmp = aEle[i].className.split(' ');
				if (findInArr('red',aTmp)){
				arr.push(aEle[i]);
			}
		}
		for (var i = 0; i < arr.length; i++) {
			arr[i].style.background = 'red';
		}*/	
		var aRed = getByClass(document,'red');
		for (var i = 0; i < aRed.length; i++) {
		aRed[i].style.background = 'blue';
		}
	}
	</script>
</head>
<body>
<div class="red blue"></div>
<div class="red1 blue"></div>
<div class="red blue"></div>
<div class="red2 blue" ></div>
<div class="red blue"></div>
<div class="red4 blue"></div>
<div class="red blue"></div>
<div class="red6 blue"></div>
<div class="red blue"></div>
</body>
</html>